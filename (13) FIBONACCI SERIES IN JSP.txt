<html>
<head><title>FIBONACCI SERIES IN JSP</title></head>
<body>
<form method="get">
<h3> Enter the number of terms you want:
<input type="text" name="limit">
<input type="submit" value="Generate">
</h3>
</form>

<%
    // Get the parameter named "limit" from the form submission
    String s = request.getParameter("limit");
    
    // Check if the parameter exists (i.e., the form has been submitted)
    if (s != null && !s.trim().isEmpty()) {
        try {
            // Import necessary classes for basic operations (though usually not needed explicitly)
            // Fix: Corrected the typo in the 'page import' directive
%>
<%@ page import="java.io.*, java.lang.*" %>
<%
            // Parse the input string to an integer
            int n = Integer.parseInt(s.trim());
            
            // Validate the input to ensure a meaningful series can be generated
            if (n <= 0) {
                out.println("<h3>Please enter a number greater than zero.</h3>");
            } else {
%>
<h3>
No of terms to be printed is **<%= n %>**
<br><br><br>
The series generated are listed below :<br><br>

<%
                // Initialization for the Fibonacci series
                int a = 0; // Standard Fibonacci usually starts 0, 1
                int b = 1;

                if (n == 1) {
                    out.println("" + a);
                } else if (n >= 2) {
                    out.print("" + a + ", " + b);
                    
                    for (int i = 3; i <= n; i++) {
                        int c = a + b;
                        out.print(", " + c);
                        a = b;
                        b = c;
                    }
                }
%>
</h3>
<%
            } // end of (n <= 0) check
        } catch (NumberFormatException e) {
            // Error handling if the user enters non-numeric text
            out.println("<h3>Invalid input. Please enter a valid whole number.</h3>");
        }
    } else if (request.getMethod().equalsIgnoreCase("get") && s != null && s.trim().isEmpty()) {
        // Handle case where form is submitted but input is left empty
        out.println("<h3>Please enter the number of terms.</h3>");
    }
%>

</body>
</html>
